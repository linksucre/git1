<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8 />
    <title>终端类型管理</title>
    <link rel="import" href="../../public.html">
    <script type="text/javascript" src="../../js/loading.js"></script>
    <script src="../../js/fenye.js"></script>
</head>

<body class="easyui-layout">
    <!--模态框-->

    <div id='w' class="easyui-window" closed='true' title="新增终端" data-options="modal:true,collapsible:false,minimizable:false,maximizable:false,iconCls:'icon-save'"
        style="width:540px;height:280px; padding: 5px">
        <div style="padding: 5px; width: 496px; height: 167px;" title="" class="panel-body panel-body-noheader panel-body-noborder dialog-content">
            <table>
                <tbody>
                    <tr>
                        <td>终端名称：</td>
                        <td>
                            <input type="text" id="terminalName1" name="terminalName1" class="easyui-validatebox textbox validatebox-text validatebox-invalid"
                                style="width: 150px;height:20px" data-options="required:true,validType:['paramCode','length[1,30]']"
                                title="">
                        </td>
                        <td>部标终端：</td>
                        <td>
                            <!-- <input type="text" id="terminalTag1" name="terminalTag1"
                                    class="easyui-validatebox textbox" style="width: 150px" 
                                    data-options="required:true,validType:['paramCode','length[1,30]']"/> -->
                            <select id="terminalTag1" class="easyui-combobox combobox-f combo-f" editable="false" comboname="terminalTag1" style="display: none;">
                                <option value="1">是</option>
                                <option value="0">否</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>协议码：</td>
                        <td>
                            <input type="text" id="etCode1" name="etCode1" class="easyui-validatebox textbox validatebox-text validatebox-invalid" style="width: 150px;height:20px"
                                data-options="required:true,validType:['length[1,30]']" title="">
                        </td>
                        <td>品牌编号：</td>
                        <td>
                            <select id="brandCode" class="easyui-combobox combobox-f combo-f" editable="false" style="width: 100px; display: none;" comboname="brandCode">
                                <option value="O" selected="selected">请选择</option>
                                <option value="M">华晨</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td>标志位：</td>
                        <td>
                            <select id="tag" class="easyui-combobox combobox-f combo-f" editable="false" style="width: 100px; display: none;" comboname="tag">
                                <option value="A" selected="selected">通过审核</option>
                                <option value="N">新增</option>
                                <option value="D">删除</option>
                            </select>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div id="addCred-button" style="text-align:center;padding:0px;" class="dialog-button">
            <a href="javascript:void(0)" class="easyui-linkbutton" onclick="$('#w').window('close')">确定</a>
            <a href="javascript:void(0)" class="easyui-linkbutton" onclick="$('#w').window('close')">关闭</a>
        </div>
    </div>
    <div id='w2' class="easyui-window" closed='true' title="修改终端" data-options="modal:true,collapsible:false,minimizable:false,maximizable:false,iconCls:'icon-save'"
        style="width:540px;height:280px; padding: 5px">
        <div style="padding: 5px; width: 496px; height: 167px;" title="" class="panel-body panel-body-noheader panel-body-noborder dialog-content">
            <div>
                <form id="updviolationForm" action="" method="post">
                    <table>
                        <tbody>
                            <tr>
                              
                            </tr>
                            <tr>
                                <td>终端名称：</td>
                                <td>
                                    <input type="text" id="terminalName" name="terminalName" class="easyui-validatebox textbox validatebox-text validatebox-invalid"
                                        style="width: 150px;height:18px" data-options="required:true,validType:['paramCode','length[1,30]']"
                                        title="">
                                </td>
                                <td>部标终端：</td>
                                <td>
                                    <select id="terminalTag" class="easyui-validatebox textbox validatebox-text" name="terminalTag">
                                        <option value="1">是</option>
                                        <option value="0">否</option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td>协议码：</td>
                                <td>
                                    <input type="text" id="etCode" name="etCode" class="easyui-validatebox textbox validatebox-text" style="width: 150px;height:18px" data-options="required:true,validType:['paramCode','length[1,30]']"
                                        title="">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>

        </div>
        <div id="addCred-button" style="text-align:center;padding:0px;" class="dialog-button">
            <a href="javascript:void(0)" class="easyui-linkbutton" onclick="$('#w2').window('close')">确定</a>
            <a href="javascript:void(0)" class="easyui-linkbutton" onclick="$('#w2').window('close')">关闭</a>
        </div>
    </div>

    <div id='w1' class="easyui-window" closed='true' title="提示信息" data-options="modal:true,collapsible:false,minimizable:false,maximizable:false,iconCls:'icon-save'"
        style="width:300px;height:150px;">
        <div style="padding: 10px;margin-bottom:15px;">
            请选择要操作的数据！
        </div>

        <div style="text-align:center;padding:5px">
            <a href="javascript:void(0)" class="easyui-linkbutton" onclick="$('#w1').window('close')">确定</a>
        </div>
    </div>
    <div id="vblackdataTablesearch" style="padding: 5px; height: auto" class="datagrid-toolbar clear_box">
        <td>终端类型：</td>
        <select style="width: 140px;" id="terminalType5" class="easyui-combobox combobox-f combo-f" editable="false" comboname="terminalType">
            <option value="">华强V36</option>
            <option value="">华强V37</option>
            <option value="">易特08</option>
            <option value="">易特09(部标)</option>
            <option value="">天琴</option>
            <option value="">欧亚北斗星V1.0</option>
            <option value="">欧亚北斗星V2.0</option>
            <option value="">欧亚北斗星V2.1</option>
            <option value="">海南吉码</option>
            <option value="">伊爱</option>
            <option value="">华强</option>
            <option value="">交通部(部标)</option>
        </select>
        <span class="easyui-linkbutton" data-options="iconCls:'icon-search'" onclick="refreshbtn('#dg')">查询</span>
        <a class="easyui-linkbutton " data-options="iconCls:'icon-search'" onclick="clearSearch('#dg')">重置</a>
        <a href="#" id="amdataTable_dealbtn" class="easyui-linkbutton" data-options="iconCls:'icon-add'" onclick="$('#w').window('open')">添加</a>
        <a href="#" id="amdataTable_dealbtn" class="easyui-linkbutton" data-options="iconCls:'icon-edit'" onclick="edit()">修改</a>
        <a href="#" id="amdataTable_dealbtn" class="easyui-linkbutton" data-options="iconCls:'icon-remove'" onclick="deleteRows();">删除</a>
        <table id="dg" title="" style="width:100%;height:800px;" data-options="onRowContextMenu: onRowContextMenu,rownumbers:true,fitColumns:true,singleSelect:false,pagination:true,url:'../../json/datagrid_data1.json',method:'get'">
            <thead>
                <tr>
                    <th data-options="field:'ck',checkbox:true"></th>
                    <th data-options="field:'attr1',width:100,align:'center'">终端类型</th>
                    <th data-options="field:'status',width:100,align:'left'">部标终端</th>
                    <th data-options="field:'productid',width:100,align:'left'">协议码</th>
                </tr>
            </thead>
        </table>
    </div>
    <script>
        //   查询		
        function query() {
            $("#dg1").datagrid("load", sy.serializeObject($("#searchForm").form())); //将searchForm表单内的元素序列为对象传递到后台
        }

        function onRowContextMenu(e, rowIndex, rowData) {
            e.preventDefault();
            var selected = $("#dg").datagrid('getRows'); //获取所有行集合对象			
            selected[rowIndex].id; //index为当前右键行的索引，指向当前行对象			
            $('#mm').menu('show', {
                left: e.pageX + 10,
                top: e.pageY
            });
        }

        function edit() {
            var editdData = $("#dg").datagrid('getChecked');
            if (editdData == "") {
                $("#w1").window('open');
            } else {
                $("#w2").window('open');
            }
        }

        function deleteRows() {
            var deletedData = $("#dg").datagrid('getChecked');
            if (deletedData == "") {
                $("#w1").window('open')
            }
            for (var i = deletedData.length - 1; i >= 0; i--) {
                var rowIndex = $("#dg").datagrid('getRowIndex', deletedData[i]);
                if (deletedData.length > 0) {
                    $("#dg").datagrid('deleteRow', rowIndex)
                }

            }
        }
    </script>
</body>

</html>