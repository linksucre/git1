<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
			#auto{
				width: 520px;
				height: 333px;
				background-color: hotpink;
				padding: 10px 0;
				margin: 50px auto;
				overflow: hidden;
				position: relative;
				
			}
			#info{
				list-style: none;
			/*	width: 2600px;*/
				position: absolute;
				left: 0;
			}
			#info li{
				float: left;
				margin: 0 10px;
			}
			#nav{
				position: absolute;
				bottom: 20px;
			}
			#nav a{
				float: left;
				width: 15px;
				height: 15px;
				background-color: red;
				margin: 0 5px;
				opacity: 0.5;
				filter:alpha(opacity=50);
			}
			#nav a:hover{
				background-color: black;
			}
		</style>
		<script type="text/javascript" src="js/tools.js">
			
		</script>
		<script type="text/javascript">
			window.onload=function(){
				var auto=document.getElementById("auto");
				var info=document.getElementById("info");
				var imgs=document.getElementsByTagName("img");
				var aArr=document.getElementsByTagName("a");
				var nav=document.getElementById("nav");
				//设置info的宽度
				info.style.width=imgs.length*520 +"px";
				//创建一个索引保存当前显示的图片
				var num=0;
				var timer=null;
				//计算nav的位置left
     		 nav.style.left=(auto.clientWidth-nav.offsetWidth)/2 +"px";
              //设置默认选中的a
              checkA();
              //开启图片的自动切换
              autoChange();
              //点击超链接切换指定的图片
              for(var i=0 ; i<aArr.length; i++){
              	aArr[i].index=i;
              	aArr[i].onclick=function(){
              		clearInterval(timer);
              			//修改图片索引
              			num=this.index;
              			//修改选中的a
              			checkA();
              		move(info,"left",-520*num,10,function(){
              			
              			//在动画执行完毕后开启自动切换
              			autoChange();
              		});
              	};
              }
         
			
			function checkA(){
				if(num>=imgs.length-1){
					num=0;
				//修改info的left属性为0
				info.style.left=0;
				}
			// 遍历a将他们都设置为红色
			for(var i=0; i<aArr.length;i++){
				aArr[i].style.backgroundColor ="";
			}
			//设置选中a的样式
		　　　aArr[num].style.backgroundColor ="black";
			}
			//自定义方法开启图片的自动切换
			function autoChange(){
				//开启一个定时器
			  timer=setInterval(function(){
					num++;
					//判断num是否超过最大索引
					if(num>=imgs.length){
						//超过就重置
						num=0;
					}
					//使用move来切换图片
					move(info,"left",-520*num,10,function(){
						//修改超链接的样式
						checkA();
					})
				},2000);
			}
			};
		</script>
	</head>
	<body>
		<div id="auto">
			<ul id="info">
				<li><img src="img/1.jpg"/></li>
				<li><img src="img/2.jpg"/></li>
				<li><img src="img/3.jpg"/></li>
				<li><img src="img/4.jpg"/></li>
				<li><img src="img/5.jpg"/></li>
				<li><img src="img/1.jpg"/></li>
			</ul> 
			<div id="nav">
				<a href="javascript:;"></a>
				<a href="javascript:;"></a>
				<a href="javascript:;"></a>
				<a href="javascript:;"></a>
				<a href="javascript:;"></a>
			</div>
		</div>
	</body>
</html>
