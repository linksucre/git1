<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>车辆GPS监控员工作情况报表</title>
	</head>
	<link rel="import" href="../../public.html">
	<script type="text/javascript" src="../../js/loading.js"></script>
	<script type="text/javascript" src="../../js/fenye.js"></script>
	<style type="text/css">
		a{
			text-decoration: underline;
		}
	</style>
	<body class="easyui-layout" style="overflow: hidden;width:100%;height:100%;">
		<div data-options="region:'center',border:false" style="width:100%;height:100%;overflow: hidden;">
			<p class="title" style="height:3%;box-sizing: border-box; padding:14px 0 5px 10px;margin: 0px;">当前位置：
			   <a href="#" style="color: dodgerblue;" class="remove_first" onclick="remove_first('#dg','.remove_first','../../json/working_report1.json')">集团公司</a>
		    </p>
            <table border="0" cellspacing="0" cellpadding="0" class="table_layout">
				<tr>
					<td>单位：</td>
					<td>
						<div class="clear_mes">
							<input class="easyui-combotree messagesData" name="" data-options="url:'../../json/tree_data1.json',method:'get',required:false" style="width:150px;">
							<span class="clearMess" style="display:none;"></span>
					    </div>
					</td>
					<td>开始日期：</td>
					<td>
						<input type="text" class="easyui-datebox width" name="entryTime" editable="false" comboname="start-dateQuery">
					</td>
					<td>结束日期：</td>
					<td>
						<input type="text" class="easyui-datebox width" name="entryTime" editable="false" comboname="start-dateQuery">				
					</td>
					<td colspan="6">
						<span class="easyui-linkbutton" iconcls="icon-search" onclick="refreshbtn('.easyui-datagrid')">查询</span>
						<span class="easyui-linkbutton" iconcls="icon-excel"><a id="exportExcel" href="#">导出</a></span>
					</td>
				</tr>
			</table>
			<table id="dg" class="easyui-datagrid" style="width:100%;height:80%" data-options="singleSelect:false,fitColumns:true,collapsible:false,rownumbers:true,pagination:true,pageList:[5,10,15,20],url:'../../json/working_report1.json',method:'get'">
			</table>			
		</div>
	</body>
	<script type="text/javascript" src="../../js/more_data_noHide.js"></script>
	<script type="text/javascript">
		//表格
		$('#dg').datagrid({  
	        columns: [[
	                    {field:'ORG_NAME',title:'单位',width:100,rowspan:2,formatter:formatter},
	                    {field:'ALARM',title:'报警次数',width:100,rowspan:2},
	                    {"title":"报警处理","colspan":5},
	                    {field:'OTHER_COUNT',title:'其他指令',width:100,align:'center', rowspan:2},
	                    {field:'SEARCH_COUNT',title:'轨迹回放',width:100,align:'center', rowspan:2},
	                    {field:'USER_COUNT',title:'监控人数',width:100,align:'center', rowspan:2},
	                    {field:'USER_ONLINE',title:'上线数',width:100,align:'center', rowspan:2},
	                ],[ 
		                {"field":"ALARM_HIS","title":"总数","rowspan":1,align:'center',width:100},
						{"field":"PROCESS_96","title":"录音","rowspan":1,align:'center',width:100},	
						{"field":"PROCESS_92","title":"文本信息下发","rowspan":1,align:'center',width:100},
						{"field":"PROCESS_1","title":"忽略处理","rowspan":1,align:'center',width:100},	
						{"field":"PROCESS_2","title":"直接处理","rowspan":1,align:'center',width:100}	
	                ]]
	
		});
		
         function formatter(value, row, index) {
			if(index == 0){
				return value;
			}else{
			    return "<a href='#' class='a_text' onclick='tab_mes(this," + '"#dg"' + "," + '".title"' + ")' style='color:blue'>" + value + "</a>";		
			}
		} 
		var arr = ['../../json/working_report2.json','../../json/working_report3.json','../../json/working_report4.json']
		var hideShow=['working_report']
	</script>
</html>
