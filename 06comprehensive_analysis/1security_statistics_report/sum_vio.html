<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>违章汇总统计</title>
	</head>
	<link rel="import" href="../../public.html">
	<script type="text/javascript" src="../../js/fengxian.js"></script>
	<script type="text/javascript" src="../../js/loading.js"></script>
	<script type="text/javascript" src="../../js/more_data.js"></script>
	<body class="easyui-layout">		
	    <div data-options="region:'center',border:false" style="width:100%;height:90%">
	        <div id="tab" class="easyui-tabs" style="width:100%;height:100%">			
				<div title="日(区段)统计" style="width: 100%; height: 100%; padding:0 0 0 10px;">
					<p class="title" style="display: none;height:3%;box-sizing: border-box; padding:14px 0 5px 5px;margin: 0px;">当前位置：
					   <a href="#" style="color: dodgerblue;" class="remove_first" onclick="remove_first('#dg','.remove_first','../../json/vio_pro1.json')">集团公司</a>
				    </p>
					<p class="title_day" style="height:3%;box-sizing: border-box; padding:14px 0 5px 5px;margin: 0px;">当前位置：
					   <a href="#" style="color: dodgerblue;" class="remove_day">集团公司</a>
				    </p>
					<table border="0" cellspacing="0" cellpadding="0" style="width: 100%;">
						<tr>
							<td style="white-space: nowrap;">单位：</td>
							<td>
								<div class="clear_mes">
									<input class="easyui-combotree messagesData" name="" data-options="url:'../../json/tree_data1.json',method:'get',required:false" style="width:150px;">
									<span class="clearMess" style="display:none;"></span>
							    </div>
							</td>
					        <td style="white-space: nowrap;">开始日期：</td>
						    <td>
						    	<input type="text" id="start-dateQuery" class="easyui-datebox datebox-f combo-f validatebox-text" editable="false" style="margin-right: 10px; display: none;" comboname="start-dateQuery">
						    </td>
						    <td style="white-space: nowrap;">结束日期：</td>
						    <td><input type="text" id="end-dateQuery" class="easyui-datebox" editable="false" comboname="end-dateQuery"></td>
						    <td colspan="2" style="white-space: nowrap;">
						    	<a href="#" id="search_btn" class="easyui-linkbutton" iconcls="icon-search" group="">查询</a>
						        <a href="#" id="export_btn" class="easyui-linkbutton" iconcls="icon-excel">导出</a>
						    </td>
						    <td colspan="8" style="width:800px;padding-right:30px;box-sizing:border-box;" align="right">
						    	<div class="report_box"></div>
						    </td>
						</tr>
					</table>
					<div id="main" style="width:100%;height:80%;"></div>
			        <!--表格开始-->
				        <div class="hide_dg" style="width:100%;height:85%;display: none;overflow: hidden;">
							<table id="dg" class="easyui-datagrid" style="width:100%;height:100%" data-options="singleSelect:false,collapsible:false,rownumbers:true,pagination:true,pageList:[5,10,15,20],url:'../../json/vio_pro1.json',method:'get'">
								<thead>
									<tr>
										<th data-options="field:'ORG_NAME',formatter:formatter,width:200">单位</th>
										<th data-options="field:'ORG_NAME1',width:200">车牌号</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">总报警数量</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">超速报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">疲劳驾驶</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">异常停车</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">紧急报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">越区报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">偏航报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">三交一封</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">其他报警</th>
									</tr>
								</thead>
							</table>
					    </div>
				    <!--表格结束-->
				</div>
				<div title="月统计" style="width: 100%; height: 100%; padding: 10px;">
					<p class="title_mouth" style="display:none;height:3%;box-sizing: border-box; padding:14px 0 5px 5px;margin: 0px;">当前位置：
					   <a href="#" style="color: dodgerblue;" class="remove_mouth" onclick="remove_first('#dg1','.remove_mouth','../../json/vio_pro1.json')">集团公司</a>
				    </p>
					<p class="title_mouth_mo" style="height:3%;box-sizing: border-box; padding:14px 0 5px 5px;margin: 0px;">当前位置：
					   <a href="#" style="color: dodgerblue;" class="remove_mouth_mo">集团公司</a>
				    </p>
					<table border="0" cellspacing="0" cellpadding="0" >
						<tr>
							<td style="white-space: nowrap;">单位：</td>
							<td><div class="clear_mes">
									<input class="easyui-combotree messagesData" name="" data-options="url:'../../json/tree_data1.json',method:'get',required:false" style="width:150px;">
									<span class="clearMess" style="display:none;"></span>
							    </div>
							</td>
						    <td style="white-space: nowrap;">年份：</td>
						    <td>
						    	<select class="easyui-combobox" style="width: 120px;">
								     <option value="ar">2014</option>
								     <option value="ar">2015</option>
								     <option value="ar">2016</option>
								     <option value="ar">2017</option>
						         </select>
						    </td>
						    <td style="white-space: nowrap;">月份：</td>
						    <td>
						    	<select class="easyui-combobox" style="width: 120px;">
								     <option value="ar">01</option>
								     <option value="ar">02</option>
								     <option value="ar">03</option>
								     <option value="ar">04</option>
								     <option value="ar">05</option>
								     <option value="ar">06</option>
								     <option value="ar">07</option>
								     <option value="ar">08</option>
								     <option value="ar">09</option>
						        </select>	
						    </td>
						    <td colspan="2" style="white-space: nowrap;">
						    	<a href="#" id="search_btn" class="easyui-linkbutton" iconcls="icon-search" group="">查询</a>
						        <a href="#" id="export_btn" class="easyui-linkbutton" iconcls="icon-search">导出</a>
						    </td>
						    <td colspan="8" style="width:1200px;" align="right">
						    	<div class="report_box1"></div>
						    </td>
						</tr>
					</table>
					<div id="main1" style="width:100%;height:80%;"></div>
					 <!--表格开始-->
				        <div class="hide_dg1" style="width:100%;height:85%;display: none;overflow: hidden;">
							<table id="dg1" class="easyui-datagrid" style="width:100%;height:100%" data-options="singleSelect:false,collapsible:false,rownumbers:true,pagination:true,pageList:[5,10,15,20],url:'../../json/vio_pro1.json',method:'get'">
								<thead>
									<tr>
										<th data-options="field:'ORG_NAME',formatter:formatter1,width:200">单位</th>
										<th data-options="field:'ORG_NAME1',width:200">车牌号</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">总报警数量</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">超速报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">疲劳驾驶</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">异常停车</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">紧急报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">越区报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">偏航报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">三交一封</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">其他报警</th>
									</tr>
								</thead>
							</table>
				        </div>
				    <!--表格结束-->
				</div>
				
				<div title="年统计" style="width: 100%; height: 100%; padding: 10px;">
					<p class="title_year" style="display: none; height:3%;box-sizing: border-box; padding:14px 0 5px 5px;margin: 0px;">当前位置：
					   <a href="#" style="color: dodgerblue;" class="remove_year" onclick="remove_first('#dg2','.remove_year','../../json/vio_pro1.json')">集团公司</a>
				    </p>
					<p class="title_year_ye" style="height:3%;box-sizing: border-box; padding:14px 0 5px 5px;margin: 0px;">当前位置：
					   <a href="#" style="color: dodgerblue;" class="remove_year_ye">集团公司</a>
				    </p>
					<table border="0" cellspacing="0" cellpadding="0" >
						<tr>
							<td style="white-space: nowrap;">单位：</td>
							<td><div class="clear_mes">
									<input class="easyui-combotree messagesData" name="" data-options="url:'../../json/tree_data1.json',method:'get',required:false" style="width:150px;">
									<span class="clearMess" style="display:none;"></span>
							    </div>
							</td>
						    <td style="white-space: nowrap;">年份：</td>
						    <td>
						    	<select class="easyui-combobox" style="width: 120px;">
								     <option value="ar">2014</option>
								     <option value="ar">2015</option>
								     <option value="ar">2016</option>
								     <option value="ar">2017</option>
						         </select>
						    </td>
						    <td colspan="2" style="white-space: nowrap;">
						    	<a href="#" id="search_btn" class="easyui-linkbutton" iconcls="icon-search" group="">查询</a>
						        <a href="#" id="export_btn" class="easyui-linkbutton" iconcls="icon-search">导出</a>
						    </td>
						    <td colspan="8" style="width:1300px;" align="right">
						    	<div class="report_box2"></div>
						    </td>
						</tr>
					</table>
					<div id="main2" style="width:100%;height:80%;"></div>
				     <!--表格开始-->
				        <div class="hide_dg2" style="width:100%;height:85%;display: none;overflow: hidden;">
							<table id="dg2" class="easyui-datagrid" style="width:100%;height:100%" data-options="singleSelect:false,collapsible:false,rownumbers:true,pagination:true,pageList:[5,10,15,20],url:'../../json/vio_pro1.json',method:'get'">
								<thead>
									<tr>
										<th data-options="field:'ORG_NAME',formatter:formatter2,width:200">单位</th>
										<th data-options="field:'ORG_NAME1',width:200">车牌号</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">总报警数量</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">超速报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">疲劳驾驶</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">异常停车</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">紧急报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">越区报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">偏航报警</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">三交一封</th>
										<th data-options="field:'TOTAL_VIOLATION',width:200">其他报警</th>
									</tr>
								</thead>
							</table>
				        </div>
				    <!--表格结束-->
				</div>
				
			</div>
		 </div>
	
	</body>
	<script type="text/javascript">		
	    var arr = ['../../json/vio_pro2.json','../../json/vio_pro3.json','../../json/vio_pro4.json']
		var hideShow=["vio_pro","ORG_NAME","ORG_NAME1"]

//		日统计
		var myChart = echarts.init(document.getElementById('main'));
		option = {
			  tooltip : {
			        trigger: 'axis',
			        axisPointer : {          
			            type : 'shadow'      
			        }
			    },
			toolbox: {
				feature: {
					magicType: {
						show: true,
						type: 'bar'
					},
				}
			},
			legend: {
				x: 'center',
				y: 'bottom',
				data: ['超速','未按标示行驶','违章停车','闯红灯','逆向行驶','其他']
			},
			xAxis: [{
				type: 'category',
				data: ['工程建设企业','其他单位','工程技术+服务企业'],
				axisPointer: {
					type: 'shadow'
				}
			}],
			yAxis: {
				type: 'value',
				name: '水量',
				min: 0,
				max: 6,
				interval:1,
				axisLabel: {
					formatter: '{value}k'
				}
			},

			series: [{
					name: '超速',
					type: 'bar',
					data: [1,0,0]
				},
				{
					name: '未按标示行驶',
					type: 'bar',
					data: [1,0,0]
				},
				{
					name: '违章停车',
					type: 'bar',
					data: [0,0,0]
				},
				{
					name: '闯红灯',
					type: 'bar',
					data: [0,0,0]
				},
				{
					name: '逆向行驶',
					type: 'bar',
					data: [0,0,0]
				},
				{
					name: '其他',
					type: 'bar',
					data: [3,5,1]
				}

			]
		};
		myChart.setOption(option);
//		月统计
		var myChart = echarts.init(document.getElementById('main1'));
		option1 = {
			 tooltip : {
			        trigger: 'axis',
			        axisPointer : {          
			            type : 'shadow'      
			        }
			    },
			toolbox: {
				feature: {
					magicType: {
						show: true,
						type: 'bar'
					},
				}
			},
			legend: {
				x: 'center',
				y: 'bottom',
				data: ['超速','未按标示行驶','违章停车','闯红灯','逆向行驶','其他']
			},
			xAxis: [{
				type: 'category',
				data: ['工程建设企业','其他单位','工程技术+服务企业'],
				axisPointer: {
					type: 'shadow'
				}
			}],
			yAxis: {
				type: 'value',
				name: '水量',
				min: 0,
				max: 6,
				interval:1,
				axisLabel: {
					formatter: '{value}k'
				}
			},

			series: [{
					name: '超速',
					type: 'bar',
					data: [1,0,0]
				},
				{
					name: '未按标示行驶',
					type: 'bar',
					data: [1,0,0]
				},
				{
					name: '违章停车',
					type: 'bar',
					data: [0,0,0]
				},
				{
					name: '闯红灯',
					type: 'bar',
					data: [0,0,0]
				},
				{
					name: '逆向行驶',
					type: 'bar',
					data: [0,0,0]
				},
				{
					name: '其他',
					type: 'bar',
					data: [3,5,1]
				}

			]
		};
		myChart.setOption(option1);
//		年统计
		var myChart = echarts.init(document.getElementById('main2'));
		option2 = {
			 tooltip : {
			        trigger: 'axis',
			        axisPointer : {          
			            type : 'shadow'      
			        }
			    },
			toolbox: {
				feature: {
					magicType: {
						show: true,
						type: 'bar'
					},
				}
			},
			legend: {
				x: 'center',
				y: 'bottom',
				data: ['超速','未按标示行驶','违章停车','闯红灯','逆向行驶','其他']
			},
			xAxis: [{
				type: 'category',
				data: ['工程建设企业','其他单位','工程技术+服务企业'],
				axisPointer: {
					type: 'shadow'
				}
			}],
			yAxis: {
				type: 'value',
				name: '水量',
				min: 0,
				max: 6,
				interval:1,
				axisLabel: {
					formatter: '{value}k'
				}
			},

			series: [{
					name: '超速',
					type: 'bar',
					data: [1,0,0]
				},
				{
					name: '未按标示行驶',
					type: 'bar',
					data: [1,0,0]
				},
				{
					name: '违章停车',
					type: 'bar',
					data: [0,0,0]
				},
				{
					name: '闯红灯',
					type: 'bar',
					data: [0,0,0]
				},
				{
					name: '逆向行驶',
					type: 'bar',
					data: [0,0,0]
				},
				{
					name: '其他',
					type: 'bar',
					data: [3,5,1]
				}

			]
		};
		myChart.setOption(option2);
	</script>

</html>