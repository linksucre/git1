<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#outer{
				width: 520px;
				height: 333px;
				background: pink;
				margin: 50px auto;
				padding: 10px 0;
				position: relative;
			   overflow: hidden;
			}
			#imgList{
				list-style: none;
				width: 3120px;
				position: absolute;
				left: 0;
			}
			#imgList li{
				float: left;
				margin: 0 10px;
			
			}
			#nav{
				position: absolute;
				bottom: 15px;
				/*left: 197px;*/
			}
			#nav a{
				float: left;
				width: 15px;
				height: 15px;
				background-color: red;
				margin: 0 5px;
				opacity: 0.5;
				filter: alpha(opacity=50);
			}
			#nav a:hover{
				background-color: black;
			}
		</style>
		<script type="text/javascript" src="js/tools.js">	
		</script>
		<script type="text/javascript">
			window.onload=function(){
				//获取父元素
				var outer=document.getElementById("outer");
				//获取nav
				var nav=document.getElementById("nav");
				//获取所有超链接
				var aArr=document.getElementsByTagName("a");
				//获取id为imgList的ul
				var imgList=document.getElementById("imgList");
				//获取img
				var imgs=document.getElementsByTagName("img");
				//创建一个索引保存当前显示的图片
				var num=0;
				var timer=null;
				//计算nav的left值使其居中
				nav.style.left=(outer.clientWidth-nav.offsetWidth)/2 +"px";
				//设置默认选中的a
				checkA();
				//开启图片的自动切换
				autoChange();
				//点击超链接切换指定的图片 ，为每一个超链接绑定一个单击响应函数
				for(var i=0 ; i<aArr.length ; i++){
					
					//将索引所谓属性保存到每个对象当中
					aArr[i].index=i;
					aArr[i].onclick=function(){
						//切换图片之前，停止之前的定时器
						clearInterval(timer);
						//修改图片的索引
						num=this.index;
						//修改选中 的a
						checkA();
						//修改imgList的left属性的值
						move(imgList , "left" , -520*num , 20,function(){
							//在动画执行完毕，开启自动切换
							autoChange();
						});
					};
				}
				//用来设置a是选中的样式
				function checkA(){
					if(num>=imgs.length-1){
						num=0;
						//修改imgList的left属性值
						imgList.style.left=0;
					}
					for(var i=0; i<aArr.length;i++){
						aArr[i].style.backgroundColor="";
					}
					//设置选中a的样式
					aArr[num].style.backgroundColor="black";
				}
				//定义一个方法，用来开启图片的自动切换
				function autoChange(){
					//开启一个定时器
					timer=setInterval(function(){
						//自增
						num++;
						//判断num是否超过最大索引
						if(num>imgs.length){
							//重置num为0
							num=0;
						}
						//使用move函数切换图片
						move(imgList,"left",-520*num,20,function(){
							checkA();
						});
					},1000);
				}
				
			};
		</script>
	</head>
	<body>
		<div id="outer">
			<ul id="imgList">
				<li><img src="img/1.jpg" alt="1" /></li>
				<li><img src="img/2.jpg" alt="2" /></li>
				<li><img src="img/3.jpg" alt="3" /></li>
				<li><img src="img/4.jpg" alt="4" /></li>
				<li><img src="img/5.jpg" alt="5" /></li>
				<li><img src="img/1.jpg" alt="6" /></li>
			</ul>
			<div id="nav">
				<a href="javascript:;"></a>
				<a href="javascript:;"></a>
				<a href="javascript:;"></a>
				<a href="javascript:;"></a>
				<a href="javascript:;"></a>
			</div>
		</div>
	</body>
</html>
